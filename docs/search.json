[
  {
    "objectID": "r-basics.html",
    "href": "r-basics.html",
    "title": " ",
    "section": "",
    "text": "QSURE Coding Workshop 2025\nPart 1: R Basics\n\nKarissa Whiting  June 10th, 2025\n\n\n\n\n\nWarning: package 'ggplot2' was built under R version 4.2.3\n\n\nWarning: package 'tidyr' was built under R version 4.2.3\n\n\nWarning: package 'readr' was built under R version 4.2.3\n\n\nWarning: package 'dplyr' was built under R version 4.2.3\n\n\nWarning: package 'stringr' was built under R version 4.2.3\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4          ✔ readr     2.1.5     \n✔ forcats   1.0.0          ✔ stringr   1.5.1     \n✔ ggplot2   3.5.1          ✔ tibble    3.2.1.9032\n✔ lubridate 1.9.3          ✔ tidyr     1.3.1     \n✔ purrr     1.0.4          \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\nRegistered S3 method overwritten by 'GGally':\n  method from   \n  +.gg   ggplot2\n\n\n\n\nPurpose of Coding Workshop\nProvide you tools & resources to get properly set up to conduct impactful and reproducible research during your time at MSK (and after!)\n\n\nBeginners: Introduce you to general coding concepts and basics of the R programming language\nIntermediate/Advanced Coders: Fill potential gaps in your R knowledge and introduce packages useful for common statistical analyses and reporting.\nAll: Learn to build reproducible code bases (of any language) from the ground up.\n\n\n\nWhile other seminars are likely more lecture style, these workshops are meant to be a hand-on intro to coding for statistical analysis projects.\n\n…\n\nAll/reproducible- project organizaiton, file managements, ersion control, documentations, etc.\n\n\n\n\nWorkshop Agenda\n\nLesson 1 – 6/10/2024\n\nOverview of Coding Concepts\nR Basics (Quick Review)\n\nLesson 2 - 6/12/2024\n\nGuided Example\n\nProject Setup & Reproducibility\nData Cleaning\nAnalyzing/Modeling the Data\nReporting Your Results\n\n\nLesson 3 - TBD\n\n\n\nShort review on basic R vocab\nSkip dplyr basics but include some advanced dplyr/data cleaning\nInteractive Code-along. Focus on project setup, statistical analyses\nOptional 3rd session on R package making/Github\n\n\n\n\nR, Rstudio, Open source philosophy\n\nR is an object-oriented open-source programming language used mostly for statistical computing and graphics. Despite being OOO, R can be written in a functional style.\nOpen source means the original source code is freely available, and can be distributed and modified. Also, users can contribute to the usefulness by creating packages, which implement specialized functions for all kinds of uses (e.g. statistical methods, graphical capabilities, reporting tools). Added Bonus: vibrant R community!\nRStudio is an integrated development environment (IDE) for R. It includes a console, syntax-highlighting code editor that supports direct code execution, as well as tools for plotting, history, debugging and work space management.\n\n\n\n\n\n\n\n\n\nPython\n\nPython is a versatile programming language used widely in data science, web development, automation, and statistics. Unlike R, it was created as a general purpose language but has evolved significantly.\nPython is also Open source (PyPI - Python Package Index)\nSome popular IDEs include VS Code, JupyterLab, Positron and more\n\n\n\nR vs. Python\nWhich is better?\n\n\n\n\n\nR vs. Python\nThey’re both great!\n\n\n\n\n\nR has a longer history as a statistical language versus a general programming language, so it’s useful as a statistician to learn some R as some more niche methods may not be available in Python\n\n\n\n\nR Basics\n\n\nPlease open Rstudio, and start a new R file\n\n\n\n\nGeneral Things\n\n&lt;- is the assignment operator (= also works)\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nR is case sensitive, bE cArEfUl!\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n? is your friend if you want to look at documentation! (e.g. type ?mean() in the console)\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nA Note About The Pipe Operator\n\nThe %&gt;% (pipe) is a useful way to link functions together to make your code more succinct and easier to read.\n|&gt; (base pipe) is another way to pipe operations\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nData Types\nR basic data types:\n\nlogical (TRUE)\ninteger (1)\nnumeric (a.k.a. double) (1.2)\ncharacter (\"Purple\")\nfactor (“a”)\ncomplex (nobody ever uses these really)\n\n\n\nBeware Data Type Coercion\nWhat is the most flexible data type?\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nBeware Data Type Coercion\n\nSince columns of a data.frame must be of the same type, some data may be coerced in unexpected ways when reading in a csv or excel file.\ncharacter is often the default for mixed data types\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nHow Data is Stored\nR has 5 basic data structures:\n\n\n\nvector\nmatrix\narray\nlist\ndata.frame/tibble\n\n\n\n\n\n\n\nHow Data is Stored\n\n\n\nvector\n\n\n\nonly 1 data type allowed\n\n# character\nc(\"apple\", \"orange\")\n[1] “apple” “orange”\n# numeric\nc(1:15)\n[1] 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15\n\n\n\n\nHow Data is Stored\n\n\n\nvector\nmatrix\n\n\n2d, only 1 data type allowed\n\nletters &lt;- c(\"a\",\"b\",\"c\",\"d\", \"e\", \"f\")\nmatrix(letters, nrow=2, ncol=3)\n\n     [,1] [,2] [,3]\n[1,] \"a\"  \"c\"  \"e\" \n[2,] \"b\"  \"d\"  \"f\" \n\n\n\n\n\n\nHow Data is Stored\n\n\n\nvector\nmatrix\narray\n\n\n\nn-dimensions, of 1 data type\n\n\n# Create two vectors of different lengths.\nvector1 &lt;- c(5,9,3)\nvector2 &lt;- c(10,11,12,13,14,15)\n\narray(c(vector1,vector2),dim = c(3,3,2))\n\n, , 1\n\n     [,1] [,2] [,3]\n[1,]    5   10   13\n[2,]    9   11   14\n[3,]    3   12   15\n\n, , 2\n\n     [,1] [,2] [,3]\n[1,]    5   10   13\n[2,]    9   11   14\n[3,]    3   12   15\n\n\n\n\n\n\nHow Data is Stored\n\n\n\nvector\nmatrix\narray\nlist\n\n\n\nany data type allowed\n\n\nmy_list &lt;- list(\"a\", 2, TRUE) \nstr(my_list)\n\nList of 3\n $ : chr \"a\"\n $ : num 2\n $ : logi TRUE\n\n\n\n\n\n\nHow Data is Stored\n\n\n\nvector\nmatrix\narray\nlist\ndata.frame/tibble\n\n\n- any data type is allowed, but each column has to have the same type\n- the most important for data analysts. Most similar to an excel spreadsheet/statistical data file\n\nhead(iris, 4)\n\n  Sepal.Length Sepal.Width Petal.Length Petal.Width Species\n1          5.1         3.5          1.4         0.2  setosa\n2          4.9         3.0          1.4         0.2  setosa\n3          4.7         3.2          1.3         0.2  setosa\n4          4.6         3.1          1.5         0.2  setosa\n\n\n\n\n\n\nThe R Analysis Workflow\n\n\nThe Analysis Workflow\nSteps of a basic data analysis project:\n\n1. Setup Your Project\n2. Clean and Explore Data\n3. Analyze Data\n4. Report Your Findings\n5. Iterate, Share, and Collaborate!\n\n\n\nAnalysis Workflow Tools (R)\n1. Setup Your Project\n- `here`, `renv`\n2. Clean and Explore Data\n- `tidyverse`\n3. Analyze Data\n- `stats`\n- `survival`, `lme4`, `glmnet`\n- `ggplot2` \n4. Report Your Findings\n- R Markdown / Quarto\n- `gt` / `gtsummary`\n5. Iterate, Share, and Collaborate!\n- git / GitHub\n\n\nAnalysis Workflow Tools (Python)\n1. Setup Your Project\n- `venv`, `conda`\n2. Clean and Explore Data\n- `pandas` / `numpy`\n3. Analyze Data\n- `scipy.stats`, `statsmodels`, `scikit-learn`\n- `seaborn`, `matplotlib`\n4. Report Your Findings\n- Jupyter / Quarto\n5. Iterate, Share, and Collaborate!\n- git / GitHub\n\n\nThe Analysis Workflow\nSteps of a basic data analysis project:\n1. Setup Your Project\n\nClean and Explore Data\nAnalyze Data\nReport Your Findings\nIterate, Share, and Collaborate!\n\n\n\nAnatomy of a Project\n\n\n\n\n\n\n\nkeep raw and processed data separate (raw-data, vs. data)\nfolder for scripts ordered or labelled descriptively\noptionally can have admin for project notes, etc and outputs for final reports and figures\nREADME - text file that introduces and explains a project (usethis::use_readme_md())\nR Project (.Rproj file)  - tells RStudio all your files belong to one project and sets working directory for entire project.\n\n\n\n\n\nYour Turn: Setup Your Project\n\nCreate a new folder on your computer and name it “your-initials-case-study-2025”\nCreate subfolders within your project folder called: admin, raw-data, scripts, data, outputs\nCreate a new R Project in Rstudio from this folder (File &gt; New Project &gt; Existing Directory)\nCreate a README.md using usethis::use_readme_md()\nOpen a new R file (RStudio &gt; New File &gt; R Script) to use as a scratch file\n\n\n\nThe Analysis Workflow\n\nSteps of a basic data analysis project:\n\nSetup Your Project\n\n2. Clean and Explore Data\n\nAnalyze Data\nReport Your Findings\nIterate, Share, and Collaborate!\n\n\n\nExploring Your Data\n\ncolnames() - will give you the column names\nncol() and nrow() - will give you the total count of columns and rows respectively\nclass(), str(), attributes() will give you meta-information on the object\nhead(), tail() show the top or bottom rows of your df\nView() will show the whole dataframe\ntable() will summarise variables\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nExploring Your Data\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nCleaning Data: Intro to tidyverse\nThe tidyverse package is a collection of R packages designed for data analysis, all of which share a similar design, grammar, and structure.\n\n# load it\nlibrary(tidyverse)\n\n# check out the cute logo\ntidyverse_logo()\n\n⬢ __  _    __   .    ⬡           ⬢  . \n / /_(_)__/ /_ ___  _____ _______ ___ \n/ __/ / _  / // / |/ / -_) __(_-&lt;/ -_)\n\\__/_/\\_,_/\\_, /|___/\\__/_/ /___/\\__/ \n     ⬢  . /___/      ⬡      .       ⬢ \n\n\n\n\nCleaning Data: Intro to tidyverse\n\nreadr: data import/export\ntibble: easier to work with data frames\ndplyr: data manipulation\ntidyr: data manipulation\nggplot2: graphics and visualization\npurrr: functional programming toolkit, replaces the need for many loops\nstringr: string manipulation\nforcats: re-imagined factor data types\n\nThere are several additional packages which are installed as part of the tidyverse, but are not loaded by default.\n\n\nThe tidyverse style\n\nOverall the tidyverse style emphasizes code readability and intuitive coding\nHuman-readable syntax and pipe-based workflows\nShortcuts for common data manipulation tasks\ntidyverse has been developed and significantly improved in the last few years, with a lot of ongoing work being done to further increase usability.\n\n\n\nCleaning Data: dplyr\nThe dplyr package is a data manipulation and cleaning package. A few of the key functions (verbs) in dplyr are:\n\nselect()\nmutate()\nfilter()\narrange()\ngroup_by()\nsummarize()\n\nAll take a data frame as input, and return a data frame as output.\nWe will briefly review during case study\n\n\nThe Analysis Workflow\nSteps of a basic data analysis project:\n\nSetup Your Project\nClean and Explore Data\n\n3. Analyze Data\n\nReport Your Findings\nIterate, Share, and Collaborate!\n\n\n\nStatistical Models\nWe will cover:\n\nlinear model\nlogistic model\nsurvival analyses\nand more….(depending on what’s useful for you!)\n\n\n\nFormula Syntax\n\nCode for models and stats tests often require formula syntax\nIn general ~ is used to separate your outcome on the left hand side and your predictors on the right hand side\nYour outcome will always be on the left side of the ~\nOnly some univariate tests like chisq.test() do not use the ~ notation\nThe stats package is already loaded in R which will make it easier to use common statistical tests\nGeneral notation: model(outcome ~ covariates, data)\n\n\n\nExample of linear model\n\nContinuous outcome\nSpecifying interactions\n\nmtcars$vs  &lt;- as.character(mtcars$vs)\nmtcars$cyl   &lt;- as.character(mtcars$cyl)\nmod1 &lt;- lm(mpg ~ vs * cyl, data = mtcars)\nclass(mod1) # class of lm which is a list\n[1] “lm”\nnames(mod1)\n[1] “coefficients” “residuals” “effects” “rank”\n[5] “fitted.values” “assign” “qr” “df.residual”\n[9] “contrasts” “xlevels” “call” “terms”\n[13] “model”\n\n\nExample cont.\n\nsummary(mod1)\n\n\nCall:\nlm(formula = mpg ~ vs * cyl, data = mtcars)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-5.3300 -1.4437  0.0875  1.5250  7.1700 \n\nCoefficients: (1 not defined because of singularities)\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)   26.000      3.318   7.836    2e-08 ***\nvs1            0.730      3.480   0.210  0.83541    \ncyl6          -5.433      3.831  -1.418  0.16757    \ncyl8         -10.900      3.434  -3.174  0.00374 ** \nvs1:cyl6      -2.172      4.305  -0.504  0.61801    \nvs1:cyl8          NA         NA      NA       NA    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 3.318 on 27 degrees of freedom\nMultiple R-squared:  0.7361,    Adjusted R-squared:  0.697 \nF-statistic: 18.82 on 4 and 27 DF,  p-value: 1.696e-07\n\n\n\n\nCheck Model Diagnostics\n\nAll models have different underlying assumptions (e.g. normality of residuals). Consider these when choosing a model and check them when model fitting.\nCheck multicollinearity among your variables and how your models handles it:\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nCheck Model Diagnostics\n\nCheck outliers and influential points (e.g. Cook’s Distance- a measure of how influential a data point is in a regression analysis).\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n(If the Cook’s Distance of a data point exceeds this cutoff, that data point might be considered unusually influential)\n\n\nCheck model diagnositcs\n#many options for which! \nplot(mod1, which=1, cook.levels=cutoff)\n\n\n\nExample cont.\n\nsummary(mod1)\n\n\nCall:\nlm(formula = mpg ~ vs * cyl, data = mtcars)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-5.3300 -1.4437  0.0875  1.5250  7.1700 \n\nCoefficients: (1 not defined because of singularities)\n            Estimate Std. Error t value Pr(&gt;|t|)    \n(Intercept)   26.000      3.318   7.836    2e-08 ***\nvs1            0.730      3.480   0.210  0.83541    \ncyl6          -5.433      3.831  -1.418  0.16757    \ncyl8         -10.900      3.434  -3.174  0.00374 ** \nvs1:cyl6      -2.172      4.305  -0.504  0.61801    \nvs1:cyl8          NA         NA      NA       NA    \n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 3.318 on 27 degrees of freedom\nMultiple R-squared:  0.7361,    Adjusted R-squared:  0.697 \nF-statistic: 18.82 on 4 and 27 DF,  p-value: 1.696e-07\n\n\n\nwhile it is nice to see the summary results, you wouldn’t present them in this fashion\n\n\n\nReport Your Findings\n\nbroom and gt/gtsummary will help\nbroom is a package that helps tidy model results into data.frames\nthis helps with reporting and you can further format the data.frame and present with gt\n\nmoddf &lt;- broom::tidy(mod1) %&gt;% #didn't load broom just called one function \n          mutate(p.value = round(p.value,3)) %&gt;% \n          select(-std.error)\n\ngt::gt(moddf)\n\n\n\n\n\n\nterm\nestimate\nstatistic\np.value\n\n\n\n\n(Intercept)\n26.000000\n7.8364568\n0.000\n\n\nvs1\n0.730000\n0.2097843\n0.835\n\n\ncyl6\n-5.433333\n-1.4182193\n0.168\n\n\ncyl8\n-10.900000\n-3.1738857\n0.004\n\n\nvs1:cyl6\n-2.171667\n-0.5044923\n0.618\n\n\nvs1:cyl8\nNA\nNA\nNA\n\n\n\n\n\n\n\ngtsummary\n\ngtsummary makes it easier to report model and descriptive statistics (more on this in the example)\nFor more helpful examples: https://www.danieldsjoberg.com/gtsummary/index.html\n\n\n\ngtsummary\ntbl_regression(mod1)\n\n\n\n\n\n\n\n\n\n\n\n\nCharacteristic\nBeta\n95% CI1\np-value\n\n\n\n\nvs\n\n\n\n\n\n\n\n\n    0\n—\n—\n\n\n\n\n    1\n0.73\n-6.4, 7.9\n0.8\n\n\ncyl\n\n\n\n\n\n\n\n\n    4\n—\n—\n\n\n\n\n    6\n-5.4\n-13, 2.4\n0.2\n\n\n    8\n-11\n-18, -3.9\n0.004\n\n\nvs * cyl\n\n\n\n\n\n\n\n\n    1 * 6\n-2.2\n-11, 6.7\n0.6\n\n\n    1 * 8\n\n\n\n\n\n\n\n\n\n1 CI = Confidence Interval\n\n\n\n\n\n\n\n\nCustomizing gtsummary\nlibrary(labelled)\nWarning: package 'labelled' was built under R version 4.2.3\nvar_label(mtcars$cyl) &lt;- \"Cylinder\"\n\nnewmodsum &lt;- lm(mpg ~ vs * cyl, data = mtcars) %&gt;% \n  tbl_regression() %&gt;% \n      bold_labels() %&gt;% \n      modify_caption(\"New title for model\")\n\n\nCustomizing gtsummary\nnewmodsum\n\n\n\n\nNew title for model\n\n\n\n\n\n\n\n\nCharacteristic\nBeta\n95% CI1\np-value\n\n\n\n\nvs\n\n\n\n\n\n\n\n\n    0\n—\n—\n\n\n\n\n    1\n0.73\n-6.4, 7.9\n0.8\n\n\nCylinder\n\n\n\n\n\n\n\n\n    4\n—\n—\n\n\n\n\n    6\n-5.4\n-13, 2.4\n0.2\n\n\n    8\n-11\n-18, -3.9\n0.004\n\n\nvs * Cylinder\n\n\n\n\n\n\n\n\n    1 * 6\n-2.2\n-11, 6.7\n0.6\n\n\n    1 * 8\n\n\n\n\n\n\n\n\n\n1 CI = Confidence Interval\n\n\n\n\n\n\n\n\nLogistic models\n\nbinary outcome (0/1)\nR will model the ‘1’ as the event by default make sure your variable is coded correctly\n\nmtcars$vs &lt;- as.numeric(mtcars$vs)\nmtcars$am &lt;- as.character(mtcars$am)\n\nmod2 &lt;- glm(vs ~ am , data = mtcars, family =  \"binomial\")\n\n\nSummarize logistic model\ntbl_regression(mod2, exponentiate = TRUE) %&gt;% \n    bold_labels()\n\n\n\n\n\n\n\n\n\n\n\n\nCharacteristic\nOR1\n95% CI1\np-value\n\n\n\n\nam\n\n\n\n\n\n\n\n\n    0\n—\n—\n\n\n\n\n    1\n2.00\n0.48, 8.76\n0.3\n\n\n\n1 OR = Odds Ratio, CI = Confidence Interval\n\n\n\n\n\n\n\n\nSurvival analysis\n\nOutcome is both time and an event (e.g death, progression)\nHave to specify both in the left side of model formula\nDr. Emily Zabor put together great materials for survival analysis here:\n\nhttps://www.emilyzabor.com/tutorials/survival_analysis_in_r_tutorial.html\n\n\n\n\n\n\n\nSurvival analysis\nlibrary(survival)\nWarning: package 'survival' was built under R version 4.2.3\nlung &lt;- lung %&gt;% \n        mutate(ph.ecog = as.character(ph.ecog),\n               sex = as.character(sex))\n\nmod3 &lt;- coxph(Surv(time, status)~ph.ecog+sex,data = lung)\nmod4 &lt;- survfit(Surv(time, status) ~ sex,data = lung)\n\n\nSurvival analysis\ntbl_regression(mod3, exponentiate = TRUE)\n\n\n\n\n\n\n\n\n\n\n\n\nCharacteristic\nHR1\n95% CI1\np-value\n\n\n\n\nph.ecog\n\n\n\n\n\n\n\n\n    0\n—\n—\n\n\n\n\n    1\n1.52\n1.03, 2.25\n0.036\n\n\n    2\n2.58\n1.66, 4.01\n&lt;0.001\n\n\n    3\n7.76\n1.04, 58.0\n0.046\n\n\nsex\n\n\n\n\n\n\n\n\n    1\n—\n—\n\n\n\n\n    2\n0.58\n0.42, 0.81\n0.001\n\n\n\n1 HR = Hazard Ratio, CI = Confidence Interval\n\n\n\n\n\n\n\n\nSurvival analysis: Model Assumptions\n\ntest proportional hazards\n\n\ncox.zph(mod3)\n\n        chisq df     p\nph.ecog  5.64  3 0.130\nsex      2.56  1 0.110\nGLOBAL   7.83  4 0.098\n\n\n\n\nTomorrow: Coding Exercise\n\nCase Study: Diabetes Risk Factors\nGithub Repo With Case Study: https://github.com/karissawhiting/qsure-case-study\nCheck out script &gt; 01_clean_data.R\n\n\n\nThank You!"
  },
  {
    "objectID": "r-reproducibility.html",
    "href": "r-reproducibility.html",
    "title": "R Training 2024",
    "section": "",
    "text": "R Training 2024\nComputational Reproducibility\nKarissa Whiting\nJune 10th, 2024\n\n\n\n\n\nWarning: package 'ggplot2' was built under R version 4.2.3\n\n\nWarning: package 'tidyr' was built under R version 4.2.3\n\n\nWarning: package 'readr' was built under R version 4.2.3\n\n\nWarning: package 'dplyr' was built under R version 4.2.3\n\n\nWarning: package 'stringr' was built under R version 4.2.3\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4          ✔ readr     2.1.5     \n✔ forcats   1.0.0          ✔ stringr   1.5.1     \n✔ ggplot2   3.5.1          ✔ tibble    3.2.1.9032\n✔ lubridate 1.9.3          ✔ tidyr     1.3.1     \n✔ purrr     1.0.4          \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\nRegistered S3 method overwritten by 'GGally':\n  method from   \n  +.gg   ggplot2\n\n\n\n\nAgenda\n\nIntroduction into Reproducibilty\nProject Setup\nCoding Exercise\n\n\n\nWhat is Reproducibility?\n\nA data analysis is reproducible if all the information (data, files, etc.) needed to compute results is available for someone else to re-do your entire analysis and get the same results.\n\nAll data processing steps from raw data to cleaned data are available and documented\nAll analysis decisions made are documented and available in code\nResults don’t depend on your specific computational environment (e.g. no hard coded file paths, seeds set for stochastic computations)\n\n\n\n\nWhy is Reproducibility Important?\n\n\nAllows you to show evidence of your results\nEncourages transparency about decisions made during analysis\nEnables others to check and use/extend your methods and results\nEnables FUTURE YOU to check and use/extend your methods and results\n\n\n“You mostly collaborate with yourself, and me-from-two-months-ago never responds to email”\n\nDr. Mark Holder, Computational Biologist\n\n\n\n\n\nHow Do We Ensure Our Code is Reproducible?\n\n\nHave a clear project structure and defined workflow\nComment and document your code\nUse reproducible reporting practice (e.g. Rmd, quarto, Jupyter notebook, inline text stats)\nAvoid absolute file paths (e.g. ~/Users/Whiting/Projects...)\nVersion control (document changes you make, or use git!)\n\n\n\n\nCoding Exercise\nCase Study: Diabetes Risk Factors\n\n\nCase Study - Modeling Diabetes Risk Factors\n\nResearch Question: Is waist to hip ratio a risk factor for diabetes?\nOutcome: glycosolated hemoglobin level (&gt; 7 is considered diabetic)\n\n\n\nAvailable Variables of interest:\n\ncholesterol level\nstabilized glucose\nlocation of individual\nage\ngender\nheight/weight\nbody frame\nwaist in inches\nhip in inches\n\n\n\nlibrary(faraway)\nWarning in check_dep_version(): ABI version mismatch: \nlme4 was built with Matrix ABI version 1\nCurrent Matrix ABI version is 0\nPlease re-install lme4 from source or restore original 'Matrix' package\n?diabetes\n\n\nProject Setup: Anatomy of a Project\n\n\n\n\n\n\n\nkeep raw and processed data separate (raw-data, vs. data)\nfolder for scripts ordered or labelled descriptively\noptionally can have admin for project notes, etc and outputs for final reports and figures\nREADME - text file that introduces and explains a project (usethis::use_readme_md())\nR Project (.Rproj file)  - tells RStudio all your files belong to one project and sets working directory for entire project.\n\n\n\n\n\nProject Setup\n\nCreate a new folder on your computer and name it “your-initials-case-study-2022”\nCreate subfolders within your project folder called: admin, raw-data, scripts, data, outputs\nCreate a new R Project in Rstudio from this folder (File &gt; New Project &gt; Existing Directory)\nGo to https://github.com/karissawhiting/qsure-case-study and click Code &gt; Download ZIP\nCreate a README.md using usethis::use_readme_md()\nDrag contents of raw-data and scripts from qsure-case-study-2022 to your new Project.\n\n\n\nThank You!\n\n\nResources\n\nThese materials will available on Github\nData wrangling cheat sheet: https://www.rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf\nQuestions? Reach out on teams or via email\nCreate an R help channel on teams- help each other!\n\n\n\nBonus Slides: Why Write a Function?\n\nD.R.Y. - limit copy pasting and potential mistakes\nAutomate common tasks\nYou only need to update code in one place\nIf you are copy pasting code &gt; 3 times, write a function\nGive your function a useful name\n\n\n\nBonus Slides: Function Example\nadd_one &lt;- function(number) {\n  result = number + 1 \n  return(result)\n}\n\nadd_one(7)\n[1] 8\n#add_one(\"hai\")\n\n\nBonus Slides: Function Practice\nWrite a function to calculate BMI given height (inchs) and weight (lbs)\nBMI = (weight * 703) / (height)^2\ncalc_bmi &lt;- function() {\n  ?????????????\n}"
  }
]